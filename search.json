[{"path":"https://jpomz.github.io/UFSCarISD/articles/tutorial.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Tutorial","text":"tutorial introduce sizeSpectra package go methods estimating exponent bounded power law (\\(\\lambda\\)).","code":""},{"path":"https://jpomz.github.io/UFSCarISD/articles/tutorial.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Tutorial","text":"Size spectra (AKA Individual Size Distributions, Community Biomass Distributions) one many body-size abundance relationships. , focusing Individual Size Distributions (ISD, sensu White et al. 2007) biomass measured (estimated) every single individual within community.","code":""},{"path":"https://jpomz.github.io/UFSCarISD/articles/tutorial.html","id":"mathematical-basis","dir":"Articles","previous_headings":"Introduction","what":"Mathematical basis","title":"Tutorial","text":"distribution abundance (\\(N\\)) body size (\\(M\\)) can modeled bounded power law (Andersen et al. 2016) form: \\(\\large N \\propto M^ \\lambda\\) \\(\\lambda\\) rate parameter describing decline abundance increasing body size almost always negative. pelagic marine systems, \\(\\lambda \\approx -2\\) (Andersen Beyer 2006, Wesner et al. 2024) stream communities \\(\\lambda\\) appears \\(\\approx -1.25\\) (Pomeranz et al. 2022, Gjoni et al. 2024). negative values \\(\\lambda\\) (.e., \\(\\lambda = -2\\)) “steeper” values \\(\\lambda\\) closer 0 (.e., \\(\\lambda = -0.5\\)) “shallower”. means “steep” relationships support less biomass large body sizes, “shallow” relationships biomass larger body sizes. commonly modeled literature creating body mass bins counting (Abundance Size Spectra) summing (Biomass size spectra) number individuals bin. bnned data log-transformed \\(\\lambda\\) estimated slope according : \\(\\large log_{10}(N) = \\lambda log_{10}(M)\\) However, binning poses number issues generally provides estimates \\(\\lambda\\) inacurate maximum likelihood methods recommended (White et al. 2008, Edwards et al. 2017, Pomeranz et al. 2024). ONe main issues around binning methods choice width bins, bin edges located, whether counts (sums) bin normalized (Sprules Barth 2016).","code":""},{"path":"https://jpomz.github.io/UFSCarISD/articles/tutorial.html","id":"sizespectra-package","dir":"Articles","previous_headings":"","what":"sizeSpectra Package","title":"Tutorial","text":"Make sure sizeSpectra package downloaded. can download directly github using remotes package package downloaded, need load session: overview package can , see package vignettes","code":"install.packages(\"remotes\")    # If you do not already have the \"remotes\" package ## Installing package into '/home/runner/work/_temp/Library' ## (as 'lib' is unspecified) remotes::install_github(\"andrew-edwards/sizeSpectra\") ## Using github PAT from envvar GITHUB_PAT. Use `gitcreds::gitcreds_set()` and unset GITHUB_PAT in .Renviron (or elsewhere) if you want to use the more secure git credential store instead. ## Downloading GitHub repo andrew-edwards/sizeSpectra@HEAD ## tidyselect (NA -> 1.2.1  ) [CRAN] ## generics   (NA -> 0.1.3  ) [CRAN] ## shape      (NA -> 1.4.6.1) [CRAN] ## plotrix    (NA -> 3.8-4  ) [CRAN] ## dplyr      (NA -> 1.1.4  ) [CRAN] ## Installing 5 packages: tidyselect, generics, shape, plotrix, dplyr ## Installing packages into '/home/runner/work/_temp/Library' ## (as 'lib' is unspecified) ## Running `R CMD build`... ## * checking for file ‘/tmp/RtmpEjTUfK/remotes174233dd133a/andrew-edwards-sizeSpectra-517c18d/DESCRIPTION’ ... OK ## * preparing ‘sizeSpectra’: ## * checking DESCRIPTION meta-information ... OK ## * checking for LF line-endings in source and make files and shell scripts ## * checking for empty or unneeded directories ## * building ‘sizeSpectra_1.1.0.tar.gz’ ## Installing package into '/home/runner/work/_temp/Library' ## (as 'lib' is unspecified) library(sizeSpectra)"},{"path":"https://jpomz.github.io/UFSCarISD/articles/tutorial.html","id":"data-simulation","dir":"Articles","previous_headings":"","what":"Data Simulation","title":"Tutorial","text":"Let’s start simulating vector body size data. first set seed make reproducible. code samples n = 100 body sizes power law exponent (\\(\\lambda\\)) b = -2. Becasue bounded power law, set minimum size (xmin = 1) maximum (xmax = 100). can think body size range sample fish 1 100 grams. named m2 keep track exponent used (.e., -2). Let’s sort vector view : can see body sizes less 10, 10% maximum size sampled .","code":"set.seed(598) # makes simulation reproducible m2 <- rPLB(n = 100, b = -2, xmin = 1, xmax = 100) sort(m2) ##   [1]  1.031254  1.050242  1.052482  1.068892  1.078987  1.090212  1.091879 ##   [8]  1.096940  1.097447  1.105043  1.105656  1.150811  1.170271  1.184734 ##  [15]  1.202709  1.252720  1.257296  1.329037  1.344897  1.374894  1.375970 ##  [22]  1.407335  1.424700  1.442556  1.477159  1.500558  1.510231  1.512183 ##  [29]  1.525338  1.543561  1.555712  1.567009  1.574345  1.579945  1.587565 ##  [36]  1.638134  1.663654  1.670502  1.679448  1.707943  1.714393  1.735188 ##  [43]  1.744063  1.801734  1.840380  1.852207  1.885163  1.988581  2.067230 ##  [50]  2.085163  2.097940  2.099015  2.099241  2.128986  2.135262  2.144477 ##  [57]  2.152524  2.218293  2.263141  2.502275  2.781777  2.905435  3.151122 ##  [64]  3.243437  3.352427  3.431242  3.612429  3.619371  3.757589  3.777959 ##  [71]  3.793802  3.841063  3.894318  3.957045  4.038995  4.308761  4.436295 ##  [78]  4.502082  4.634859  5.436690  5.564273  5.918682  6.008242  6.340840 ##  [85]  6.880768  6.987371  7.096980  7.183357  7.700765  8.836448 10.061311 ##  [92] 10.401013 11.740112 19.688841 23.269900 26.192331 30.367621 34.259411 ##  [99] 35.251265 39.758232"},{"path":"https://jpomz.github.io/UFSCarISD/articles/tutorial.html","id":"estimating-lambda","dir":"Articles","previous_headings":"","what":"Estimating \\(\\lambda\\)","title":"Tutorial","text":"estimate \\(\\lambda\\) vector body size data. use calcLike() function. function requires us specify negLL.fn = negLL.PLB. use one becasue continuous body size estimates individuals options details later. also need supply information data including min, max, n, sum log-transformed values. code looks like : Let’s look result: results returned list MLE estimate \\(\\lambda\\) based data. conf includes lower upper bound 95% confidence interval \\(\\lambda\\). , based data estimate \\(\\lambda = -1.87\\) 95% confidence interval : \\(-2.11, -1.65\\).","code":"mle_lambda_2 <- calcLike(       negLL.fn = negLL.PLB, # continuous estimates of all individuals       x = m2, # the vector of data       xmin = min(m2), # the minimum body size       xmax = max(m2), # the maximum body size       n = length(m2), # the number of observations       sumlogx = sum(log(m2)), # sum of log-transformed data       p = -1.5) # starting point, arbitrary number mle_lambda_2 ## $MLE ## [1] -1.871733 ##  ## $conf ## [1] -2.111733 -1.647733"},{"path":"https://jpomz.github.io/UFSCarISD/articles/tutorial.html","id":"practice-problems","dir":"Articles","previous_headings":"Estimating \\(\\lambda\\)","what":"Practice Problems","title":"Tutorial","text":"following problems, make sure use new names objects. may want add new set.seed() command simulate make results reproducible. Repeat analysis just change number observations simulation. Try higher lower sample sizes. happens estimate MLE width confidence intervals? Repeat analysis, time change value \\(lambda\\) (b argument rPLB() command). Pay special attention largest smallest body sizes sampled. often value xmin xmax observed? change “steepness” \\(\\lambda\\) value?","code":""},{"path":"https://jpomz.github.io/UFSCarISD/articles/tutorial.html","id":"plotting-estimates-and-data","dir":"Articles","previous_headings":"","what":"Plotting estimates and data","title":"Tutorial","text":"small change, another, yet third","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":"https://jpomz.github.io/UFSCarISD/articles/tutorial.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Tutorial","text":"Andersen, K. H., J. E. Beyer. 2006. Asymptotic Size Determines Species Abundance Marine Size Spectrum. American Naturalist 168:54–61. Andersen, K. H., J. L. Blanchard, E. . Fulton, H. Gislason, N. S. Jacobsen, T. van Kooten. 2016. Assumptions behind size-based ecosystem models realistic. ICES Journal Marine Science 73:1651–1655. Edwards, . M. (2020). sizeSpectra: R package fitting size spectra ecological data (including binned data). https://github.com/andrew-edwards/sizeSpectra Google Scholar Edwards, . M., Robinson, J., Blanchard, J., Baum, J., & Plank, M. (2020). Accounting bin structure data removes bias fitting size spectra. Marine Ecology Progress Series, 636, 19–33. Edwards, . M., Robinson, J., Plank, M., Baum, J., & Blanchard, J. (2017). Testing recommending methods fitting size spectra data. Methods Ecology Evolution, 8, 57–67. Gjoni, V., J. P. F. Pomeranz, J. R. Junker, J. S. Wesner. 2024, January 11. Size spectra freshwater streams consistent across temperature resource supply. bioRxiv. Pomeranz, J. P. F., J. R. Junker, J. S. Wesner. 2022. Individual size distributions across North American streams vary local temperature. Global Change Biology 28:848–858. Pomeranz, J., J. R. Junker, V. Gjoni, J. S. Wesner. 2024. Maximum likelihood outperforms binning methods detecting differences abundance size spectra across environmental gradients. Journal Animal Ecology 93:267–280. Sprules, W. G., L. E. Barth. 2016. Surfing biomass size spectrum: remarks history, theory, application. Canadian Journal Fisheries Aquatic Sciences 73:477–495. White, E. P., S. K. M. Ernest, . J. Kerkhoff, B. J. Enquist. 2007. Relationships body size abundance ecology. Trends Ecology & Evolution 22:323–330. White, E. P., B. J. Enquist, J. L. Green. 2008. Estimating Exponent Power-Law Frequency Distributions. Ecology 89:905–912.","code":""},{"path":"https://jpomz.github.io/UFSCarISD/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"package maintainer. Maintainer.","code":""},{"path":"https://jpomz.github.io/UFSCarISD/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Ww (2024). UFSCarISD: Package (Title Case). R package version 0.1.0, https://jpomz.github.io/UFSCarISD/.","code":"@Manual{,   title = {UFSCarISD: What the Package Does (Title Case)},   author = {Who wrote it},   year = {2024},   note = {R package version 0.1.0},   url = {https://jpomz.github.io/UFSCarISD/}, }"}]
